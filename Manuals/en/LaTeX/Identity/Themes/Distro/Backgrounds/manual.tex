\documentclass{article}
\usepackage{longtable}
\usepackage[pdftex]{graphicx}
\usepackage{hyperref}
\hypersetup{pdfauthor={CentOS Documentation SIG},%
            pdftitle={GNOME Backgrounds},%
            pdfsubject={CentOS Corporate Visual Identity}%
            }

\title{Backgrounds}
\author{CentOS Documentation SIG}

\begin{document}

\maketitle

\begin{abstract}
This article describes GNOME and KDE background images.  The first
time a user's session has been loaded, the default background image is
shown on the screen as desktop background. Background image remains
visible in the screen as long as the user's session remains open. 

Copyright \copyright\ 2010\ The CentOS Project. Permission is
granted to copy, distribute and/or modify this document under the
terms of the GNU Free Documentation License, Version 1.2 or any later
version published by the Free Software Foundation; with no Invariant
Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the
license is included in the section entitled ``GNU Free Documentation
License''.  
\end{abstract}

\tableofcontents

\section{Workplace}

\begin{itemize}
\item SVN:trunk/Identity/Themes/\$THEME/Distro/Backgrounds/
\end{itemize}

\section{Theme}

\input{table-theme.tex}

\section{Design}

Background design is based on CentOS Default Artistic Motif.

\begin{itemize}
\item There is no color limitation in this section.
\item There is no translation in these images.
\item There is no version, or textual information in these images.
\end{itemize}

\section{Rendering}

\section{Configuration}

\input{table-config.tex}

\begin{description}

\item[Default background]: The
\texttt{desktop\_gnome\_background.schemas} and \texttt{\%gconf-tree.xml}
files control which is the default background image loaded when new
users open their GNOME session for first time and as long as no change
be made in its ``Desktop Background Preferences''.

Inside \texttt{desktop\_gnome\_background.schemas} file the default
background image is defined in the line 6 of the following piece of
code:

\begin{verbatim}
...
 1| <schema>
 2|  <key>/schemas/desktop/gnome/background/picture_filename</key>
 3|  <applyto>/desktop/gnome/background/picture_filename</applyto>
 4|  <owner>gnome</owner>
 5|  <type>string</type>
 6|  <default>/usr/share/backgrounds/images/default.png</default>
 7|  <locale name="C">
 8|  <short>Picture Filename</short>
 9|  <long>File to use for the background image</long>
10|  </locale>
11|
...
\end{verbatim}

Inside \texttt{\%gconf-tree.xml} file, the default background image is
defined in the line 4 of the following piece of code:

\begin{verbatim}
...
1|  <entry name="picture_filename" mtime="1204075267" type="schema" stype="string" owner="gnome">
2|     <local_schema locale="C" short_desc="Picture Filename">
3|        <default type="string">
4|           <stringvalue>/usr/share/backgrounds/images/default.png</stringvalue>
5|        </default>
6|        <longdesc>File to use for the background image</longdesc>
7|     </local_schema>
8|  </entry>
...
\end{verbatim}

In both files \texttt{desktop\_gnome\_background.schemas} and
\texttt{\%gconf-tree.xml}, the image file name should be the same.

The \texttt{kdesktoprc} file controls KDE desktop configuration file.
The following lines were taken from that file and show the variables
that control default background on KDE desktop.

\begin{verbatim}
Wallpaper=/usr/share/backgrounds/images/default.png
WallpaperMode=Scaled
\end{verbatim}

\end{description}

\section{Testing}

\section{Issues}

\begin{description}

\item[Image format definition]: Images controlling default desktop
backgrounds are in JPG format. Nevertheless this doesn't match with
the definition in the configuration file
\texttt{desktop-backgrounds-basic.xml} which mention them as PNG format.
This issue makes those images not to be displayed in the GNOME
``Desktop Background Preferences''.

\end{description}

% License section
\input{../../../../Licenses/GFDL.tex}

\end{document}
