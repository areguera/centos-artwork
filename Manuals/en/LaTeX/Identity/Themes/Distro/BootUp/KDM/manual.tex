\documentclass{article}
\usepackage{longtable}
\usepackage[pdftex]{graphicx}
\usepackage{hyperref}
\hypersetup{pdfauthor={CentOS Documentation SIG},%
            pdftitle={KDE Display Manager (KDM)},%
            pdfsubject={CentOS Corporate Visual Identity}%
            }

\title{KDE Display Manager (KDM)}
\author{CentOS Documentation SIG}

\begin{document}

\maketitle

\begin{abstract} 
This article describes the KDM Visual Style for CentOS Distribution.
KDE Display Manager (KDM) is the second choice defined as CentOS
Display Manager. If users leave their computers on all the time and
don't share their system, they won't see this as often as users who
share a desktop system with other users on the system or laptop users
who reboot and login more frequently.

Copyright \copyright\ 2010\ The CentOS Project. Permission is
granted to copy, distribute and/or modify this document under the
terms of the GNU Free Documentation License, Version 1.2 or any later
version published by the Free Software Foundation; with no Invariant
Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the
license is included in the section entitled ``GNU Free Documentation
License''.  
\end{abstract}

\tableofcontents

\section{Workplace}

\begin{itemize}
\item SVN:trunk/Identity/Themes/\$THEME/Distro/BootUp/KDM/
\item SVN:trunk/Translations/Identity/Themes/Distro/BootUp/KDM/
\item SVN:trunk/Scripts/Identity/Themes/Distro/BootUp/KDM/
\end{itemize}

\section{Theme}

\input{table-theme.tex}

\section{Design}

The centos-release.png and screenshot.png images are rendered for each
major release of CentOS. This task is done using the script render.sh
available in the workplace.  This script creates the appropriate PNG
images under img/\$VERSION/ directory.

The background.png image is taken from Backgrounds section. This task
is done using the script build.sh available in the workplace. This
script collects all information needed, groups it and stores it under
tgz/\$VERSION/\$RESOLUTION/ with the form \$THEME.tar.gz.

Whith the build.sh script you can create KDM themes for specific
CentOS major releases, and inside each major release for specific
screen resolutions.

KDM theme uses the same standard that GDM theme does. More information
about GDM theming is available in the \textit{GNOME Display Manager
Reference Manual}. This guide is available online and inside your
system's help. As shortcut to get that help, you can run the following
command:

\begin{itemize}
\item gnome-help file:///usr/share/gnome/help/gdm/C/gdm.xml\#thememanual
\end{itemize}

\section{Configuration}

\input{table-config.tex}

\begin{description}

\item[Theme]: In the file \emph{kdmrc}, \texttt{Theme} defines which
is the KDM theme used by default.

\texttt{Theme=/usr/share/apps/kdm/themes/Modern/}

\item[UseTheme]: In the file \emph{kdmrc}, \texttt{UseTheme} defines
the precedence of background. If true KDM theme background image takes
precedence against KDM background.

\texttt{UseTheme=true}

\item[Wallpaper]: In the file \emph{backgroundrc}, \texttt{Wallpaper}
defines the default configuration for KDM background.

\texttt{Wallpaper=/usr/share/backgrounds/images/default.png}

\end{description}

The background image used on KDM is one file, and the background image
used on KDM theme is another file. Even they are independent files,
the monolithic visual structure requires the same visual information
in these images.

More information about KDE login screen, KDM and its configuration can
be found in KDE help. As shortcut to get that help, you can run the
following commands:

\begin{itemize}
\item khelpcenter help:/kdm/login.html
\item khelpcenter help:/kdm/configuring-kdm.html
\item khelpcenter help:/kdm/kdm-files.html
\end{itemize}

\section{Rendering}
\section{Testing}
\section{Issues}

\begin{description}

\item[Transition from Greeter to Desktop]: If KDE desktop background
and KDM background are the same (and they should because the
monolithic visual structure) the transition from login screen to
desktop is ``smooth'' because the background image is always visible
on the screen.

\item[Differences between KDM and GDM themes]: KDM and GDM
themes\footnote{It refers to the \emph{.xml} files and its related
files.} are basically the same except for the following differences:

\begin{enumerate}

\item KDM theme requires the ``user-entry'' and ``pw-entry'' stocks.
This forces the using of two boxes, one for username and one for
password. This boxes are visibly appart one from another. In GDM we
use just one box (the ``user-pw-entry'' stock), both for
username and password.

\item In KDM theme, messages were centered on the screen to fit the
KDM two-boxes design. In GDM they are centered to the
``user-pw-entry'' stock width.

\item In KDM theme, the ``language'' stock shows nothing. It creates
an empty space in the screen. The language block was commented to save
space on the screen. In GDM laguage buttom is present and when clicked
a box pops up with a list of languages to choose.

\item Both KDM and GDM themes use the same font defintion in the
\emph{.xml} file, but in presentation they look quiet different. For
example the KDM clock's \emph{Sans 10 Bold} theme definition does not
take effect. Probably font definition in \emph{kdmrc} file takes
precedence against theme's one.

\end{enumerate}

\item[Different resolutions]: Designing of KDM theme needs to be
expandable through different screen resolutions. By default, KDM theme
uses a background image of 2048x1536 pixels. When screen resolution
changes the predifined behaviour is to scale this image to fit the
current display resolution. If the screen resolution is higher, or
differs in ratio (for example when it is a wide screens) the design of
KDM theme could loose quality or look different from the original one.

As a workaround, if KDM theme looks narrow or deformed to you, use the
build.sh script to create the KDM theme in your specific screen
resolution.

\item[KDM theme installation]: To install a KDM theme you need to copy
its files from the workplace to its location in the filesytem. If you
want to make that KDM theme your default one, then you also need to
update the KDM configuration files to match your theme location. Both
of these actions require you to have \emph{root} privileges.

\item[Default Display Manager]: By default KDM is the second display
manager choice\footnote{See the file \emph{/etc/X11/prefdm}.}. To use
KDM as first choise, run the following command (as \emph{root}) and
reboot:

\texttt{echo "DISPLAYMANAGER=KDE" > /etc/sysconfig/desktop}

\item[Package content]: CentOS Default KDM Theme seems to be inside
the package redhat-artwork. In contrast with GDM which has some files in
redhat-logos and others in redhat-artwork. Could we standardize this ?
All files in just one package (redhat-artwork) or files divided in two
packages (redhat-artwork, and redhat-logos).

\end{description}

% License section
\input{../../../../../Licenses/GFDL.tex}

\end{document}
